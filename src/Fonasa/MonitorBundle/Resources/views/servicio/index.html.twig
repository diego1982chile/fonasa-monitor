{% extends 'base.html.twig' %}
{% set url_body_action = path(body_action) %}
{% block body %}
    <h1>Servicio list</h1>

    <table id="servicios" class="table table-striped">
        <thead>
            <tr>                
                <th width="8%">NÂ°Servicio</th>                                
                <th width="11%">Fecha Reporte</th>                             
                <th width="10%">Componente</th>
                <th width="10%">Origen</th>
                <th width="10%">Tipo Servicio</th>                
                <th width="10%">Prioridad</th>
                <th width="5%">Show/Edit</th>                
            </tr>
        </thead>
        <tbody>
        {% for servicio in servicios %}
            <tr>                
                <td>{{ servicio.codigoInterno }}</td>                                
                <td>{% if servicio.fechaReporte %}{{ servicio.fechaReporte|date('d/m/Y H:i') }}{% endif %}</td>                
                <td>{{ servicio.componente.nombre }}</td>
                <td>{{ servicio.origen.nombre }}</td>
                <td>{{ servicio.tipoServicio.tipo.nombre }}</td>                
                <td>{{ servicio.prioridad.nombre }}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('servicio_show', { 'id': servicio.id }) }}">show</a>
                        </li>
                        <li>
                            <a href="{{ path('servicio_edit', { 'id': servicio.id }) }}">edit</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('servicio_new') }}">Create a new entry</a>
        </li>
    </ul>
{% endblock %}
{% block javascripts %}
<script>
    $('#servicios').dataTable({
        bPaginate: false,
        bJQueryUI: true,
        bServerSide: true,
        sAjaxSource: '{{ url_body_action }}',
    });
</script>
{% endblock %}
